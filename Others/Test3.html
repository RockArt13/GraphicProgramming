<!doctype html>

<html>

<head>
<title>Sound</title>


<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js" integrity="sha512-w1Bktzax55ZbjW5Mqjz8+mKz4KqRjEUU35Dpq/ath29yskKqIGwNIHiFNp03m/OiJWDXvdQ1/g6aV+l4PeVO7Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/addons/p5.sound.js" integrity="sha512-U2sgwrFhl+Tgx9iGH9h5Ba2WyIjyCes+D0prtIFw3a0V+/fkaeL5Cd/VjyPHno9kUPE1rnNhBGTyvtZsfJp0xg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
<script>
let osc, env;
let startingNote = 62;
let w1 = 50;



function setup()
{
createCanvas(600,400);
background(200);

for(let i=0; i < 10; i++)
{
line(i*w1, 0, i*w1, 300);
} 

line(0, 100, 450, 100);

line(0, 200, 450, 200);

for(let i=0; i < 10; i++)
{
line(0, i*w1, 0, 300);
} 
 osc = new p5.Oscillator("sine");
 env = new p5.Envelope(0.3, 1, 0.7, 0.1);
}

function mousePressed()
{

if (mouseY>200)
{
osc.freq(midiToFreq(startingNote+7+parseInt(mouseX/w1)));
}
else if (mouseY<400  &&  mouseY<200)
{
osc.freq(midiToFreq(startingNote+parseInt(mouseX/w1)));
}
else
{
osc.freq(midiToFreq(startingNote+14+parseInt(mouseX/w1)));
}
//osc.freq(midiToFreq(startingNote+parseInt(mouseY/w1)));

osc.start();

env.play(osc);






}


</script>
</body>

</html>