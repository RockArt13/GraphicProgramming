
<!doctype html>
<html>
  <head>
    <title>Image analyse</title>
	<script>
	  let c=null, g=null;
	  function start(){
	   c=document.getElementById("c1")
	   g=c.getContext("2d");
	     g.drawImage(document.getElementById("image1"), 0, 0, c.width, c.height);
		 let d=g.getImageData(0, 150, 300, 2);
         console.log(d);
		 s1.innerHTML=d.data.slice(0,333);
         analyse(d.data);
   	  }
      function analyse(data){
         let x=0; 
          
         let more=true;
         //find red button and draw rectangle
         more=true;
       for(i=0; i<30; i++)
           {
         while(more){
            let r=data[x*4];
            let g=data[x*4+1];
            let b=data[x*4+2];
            let avg=(g+b)/2;
            console.log(avg);
            if(r>avg*1.3){more=false;}
            x++;
         }
         g.fillRect(x + 4 + (5*i), 110, 5, 5);
        
        g.fillRect(148, x-47 + (5*i), 5, 5);
        g.fillRect(148, x+60 + (5*i), 5, 5);
                
               }
          
         
       
          
       
           
      }
	</script>
  </head>
  <body onload="start()">
	<canvas id="c1" width="300" height="300"/></canvas><br />
    <img src="tlu.jpg" id="image1" style="width:50px; height:50px" />
    
    <span id="s1"></span>	
  </body>
</html>